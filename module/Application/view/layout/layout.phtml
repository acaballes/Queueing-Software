<?= $this->doctype() ?>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <?= $this->headTitle('Queueing Management System')->setSeparator(' - ')->setAutoEscape(false) ?>

        <?= $this->headMeta()
            ->appendName('viewport', 'width=device-width, initial-scale=1.0')
            ->appendHttpEquiv('X-UA-Compatible', 'IE=edge')
        ?>

        <!-- Le styles -->
        <?= $this->headLink(['rel' => 'shortcut icon', 'type' => 'image/vnd.microsoft.icon', 'href' => $this->basePath() . '/img/favicon.ico'])
            ->prependStylesheet($this->basePath('css/multiselect.css'))
            ->prependStylesheet($this->basePath('css/main-page.css'))
            ->prependStylesheet($this->basePath('css/bootstrap-theme.min.css'))
            ->prependStylesheet($this->basePath('css/bootstrap.min.css'))
        ?>

        <!-- Scripts -->
        <?= $this->headScript()
            ->prependFile($this->basePath('js/bootstrap.min.js'))
            ->prependFile($this->basePath('js/jquery-3.1.0.min.js'))
        ?>
    </head>
    <body>
        <nav class="navbar navbar-inverse" style="background-color: #e3f2fd;" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="<?= $this->url('main-page') ?>" style="color:#fff !important;">
                       Queueing Management System
                    </a>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <span>Users <b class="caret"></b></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="<?= $this->url('main-page', ['action' => 'add-user']) ?>">Add New</a></li>
                                <li><a href="<?= $this->url('main-page', ['action' => 'view-user']) ?>">View All</a></li>
                                <li><a href="<?= $this->url('main-page', ['action' => 'manage-user']) ?>">Manage Users</a></li>
                          </ul>
                        </li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <span>Tellers <b class="caret"></b></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="<?= $this->url('main-page', ['action' => 'add-teller']) ?>">Add New</a></li>
                                <li><a href="<?= $this->url('main-page', ['action' => 'view-teller']) ?>">View All</a></li>
                                <li><a href="<?= $this->url('main-page', ['action' => 'manage-teller']) ?>">Manage Tellers</a></li>
                          </ul>
                        </li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <span>Announcements <b class="caret"></b></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="<?= $this->url('main-page', ['action' => 'add-announcement']) ?>">Add New</a></li>
                                <li><a href="<?= $this->url('main-page', ['action' => 'view-announcement']) ?>">View All</a></li>
                                <li><a href="<?= $this->url('main-page', ['action' => 'manage-announcement']) ?>">Manage Announcements</a></li>
                          </ul>
                        </li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <span>Transaction Types <b class="caret"></b></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="<?= $this->url('main-page', ['action' => 'add-transaction']) ?>">Add New</a></li>
                                <li><a href="<?= $this->url('main-page', ['action' => 'view-transaction']) ?>">View All</a></li>
                                <li><a href="<?= $this->url('main-page', ['action' => 'manage-transaction']) ?>">Manage Transactions</a></li>
                          </ul>
                        </li>
                        <li class=""><a target="_blank" href="<?= $this->url('queue') ?>">Live Queue</a></li>
                        <li class=""><a href="<?= $this->url('main-page', ['action' => 'reset']) ?>">Reset Queue</a></li>
                    </ul>

                    <ul class="nav navbar-nav pull-right">
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                Welcome <?= $user->firstname ?> <b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu pull-right" id="<?php echo $id; ?>">
                                <li><a href="<?= $this->url('main-page', ['action' => 'change-password']) ?>">Change Password</a></li>
                                <li><a href="/logout">Logout</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="container">
            <?= $this->content ?>
            <hr>
            <footer>
                <p>&copy; 2017 by ACL</p>
            </footer>
        </div>
        <?= $this->inlineScript()
            ->appendFile($this->basePath('js/common.js'))
            ->appendFile($this->basePath('js/multiselect.js'))
        ?>
    </body>
</html>
